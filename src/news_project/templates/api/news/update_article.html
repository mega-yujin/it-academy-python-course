{% extends 'base.html' %}

{% block title %}Update article{% endblock %}

{% block content %}
<div class="container mt-4">
    <h1>Update Article</h1>

    <form method="post" enctype="multipart/form-data">
    {% csrf_token %}

    <div class="mb-3">
        <label class="form-label">Title</label>
        <input type="text" name="title"
               class="form-control"
               value="{{ article.title }}" required>
    </div>

    <div class="mb-3">
        <label class="form-label">Content</label>
        <textarea name="content" class="form-control" rows="5" required>
            {{ article.content }}
        </textarea>
    </div>

    <div class="mb-3">
        <label class="form-label">Categories</label>
        <select name="categories" class="form-select" multiple>
            {% for category in categories %}
                <option value="{{ category.pk }}">
                    {{ category.name }}
                    {% if category in article.categories.all %} (selected){% endif %}
                </option>
            {% endfor %}
        </select>
    </div>

    <button type="submit" class="btn btn-primary">Update</button>
        <a href="{% url 'article-list' %}">Cancel</a>
</form>
</div>
{% endblock %}